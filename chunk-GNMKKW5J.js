import{a as Z}from"./chunk-KLUE3QVS.js";import"./chunk-SU4FJGPX.js";import{a as Y}from"./chunk-EY2RO5PF.js";import{a as ee}from"./chunk-IB4EGLVS.js";import{a as X}from"./chunk-N23KSFRB.js";import{$ as m,Ba as E,Ca as B,Cb as J,D as y,Da as O,E as I,Ea as M,Gb as U,Hb as W,Ib as $,K as r,Kb as N,L as d,M as w,Na as Q,P as g,Pa as T,S as x,V as f,Z as t,_ as i,a as S,ca as C,da as v,ea as h,hb as j,ka as e,la as c,lb as D,ma as k,na as z,nb as A,oa as q,qb as F,ra as u,rb as L,sa as b,sb as R,ta as _,tb as G,ub as K,vb as V,wb as H}from"./chunk-44MH6WD3.js";import"./chunk-ZTRS6MQZ.js";import"./chunk-7AA6B6AB.js";import"./chunk-WAVX4AJH.js";import"./chunk-G67DLYCP.js";import"./chunk-G3CV3VGG.js";import"./chunk-IEY6ZC2G.js";import"./chunk-MNDBORQJ.js";import"./chunk-7QVI4S4L.js";import"./chunk-4U6PRYVA.js";import"./chunk-6BZ4INXC.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import"./chunk-LNJ3S2LQ.js";function te(o,l){if(o&1&&(t(0,"b"),e(1),i(),m(2,"br"),e(3," se itilizate ki reponn plis kesyon nan moman an"),m(4,"br"),e(5," reko kesyon nan moman an se "),t(6,"b"),e(7),i(),m(8,"br"),e(9," Kwiz lan ap fini "),t(10,"b"),e(11),u(12,"date"),u(13,"date"),i()),o&2){let p=h();r(),c("@"+p.bestPartie.compte.username),r(6),c(p.bestPartie.score),r(4),z("",_(12,4,p.quiz.dateFin,"dd MMM yyyy")," a ",_(13,7,p.quiz.dateFin,"hh:mm"),"")}}function ie(o,l){if(o&1&&(e(0," reko kesyon nan moman an se "),t(1,"b"),e(2),i(),m(3,"br")),o&2){let p=h();r(2),c(p.quiz.bestScore)}}function ne(o,l){o&1&&(t(0,"ion-button",9),m(1,"ion-spinner"),i())}function oe(o,l){if(o&1){let p=C();t(0,"ion-button",13),v("click",function(){y(p);let s=h();return I(s.onPlay())}),t(1,"ion-text"),e(2,"Jwe"),i()()}}var ge=(()=>{let l=class l{constructor(n,s,a,P){this.urlService=n,this.activatedRoute=s,this.quizService=a,this.router=P,this.isAlertOpen=!1,this.quiz=new Z,this.bestPartie=null,this.subscription=new S,this.isLoading=!1,this.message="",this.alertButtons=[{text:"Anile",role:"cancel",handler:()=>{}},{text:"Rechaje kont Mwen",role:"confirm",handler:()=>{this.router.navigate(["/transactions/depot"])}}]}ngOnInit(){let n=this.activatedRoute.snapshot.params.id;this.initQuiz(n),this.initBestPartie(n)}initQuiz(n){this.subscription.add(this.quizService.getQuiz(n).subscribe({next:s=>{this.quiz=s}}))}initBestPartie(n){this.subscription.add(this.quizService.getBestPartieByQuiz(n).subscribe({next:s=>{this.bestPartie=s}}))}ngOnDestroy(){this.subscription.unsubscribe()}onPlay(){this.isLoading=!0,this.subscription.add(this.quizService.askForStartPartie(this.quiz.id.toString()).subscribe({next:()=>{this.isLoading=!1,this.router.navigate([`/partie/${this.quiz.id}`])},error:n=>{this.isLoading=!1,this.message=n.error.message.contenu,this.setOpen(!0)}}))}setOpen(n){this.isAlertOpen=n}};l.\u0275fac=function(s){return new(s||l)(d(X),d(Q),d(Y),d(T))},l.\u0275cmp=w({type:l,selectors:[["app-quiz"]],features:[q([O])],decls:46,vars:19,consts:[[1,"ion-page"],[3,"translucent"],["slot","start"],["defaultHref","/accueil"],["src","assets/img/mathematique_illustration.jpg"],[1,"titre"],[1,"p-caracteristique"],[1,"last-ion-row"],[1,"buttons"],["disabled","true","expand","block"],["expand","block"],["color","light","expand","block"],["header","Gen yon ere",3,"didDismiss","isOpen","message","buttons"],["expand","block",3,"click"]],template:function(s,a){s&1&&(t(0,"div",0)(1,"ion-header",1)(2,"ion-toolbar")(3,"ion-buttons",2),m(4,"ion-back-button",3),i(),t(5,"ion-title"),e(6,"Kwiz Matematik"),i()()(),t(7,"ion-content")(8,"ion-grid")(9,"ion-row")(10,"ion-col"),m(11,"ion-img",4),i()(),t(12,"ion-row")(13,"ion-col")(14,"div",5),e(15),u(16,"customCurrency"),u(17,"lowercase"),i(),t(18,"p"),e(19,"Prensip lan senp, moun ki reponn plis kesyon an se li nap bay "),t(20,"b"),e(21),u(22,"customCurrency"),i(),e(23," lan le kwiz lan fini."),m(24,"br"),e(25," Kesyon yo fasil pou w reponn, ou gen yon dele "),t(26,"b"),e(27),i(),e(28," pou chak pati "),i(),t(29,"p",6),e(30," Wap bezwen "),t(31,"b"),e(32),u(33,"customCurrency"),i(),e(34," pou w patisipe nan kwiz la"),m(35,"br"),g(36,te,14,10)(37,ie,4,1),i()()(),t(38,"ion-row",7)(39,"ion-col")(40,"div",8),g(41,ne,2,0,"ion-button",9)(42,oe,3,0,"ion-button",10),t(43,"ion-button",11),e(44,"Pataje"),i()()()()()()(),t(45,"ion-alert",12),v("didDismiss",function(){return a.setOpen(!1)}),i()),s&2&&(r(),x("translucent",!0),r(14),z("Genyen ",b(16,11,a.quiz.prime)," gras ak ",b(17,13,a.quiz.sujet.value),""),r(6),c(b(22,15,a.quiz.prime)),r(6),k("",a.quiz.tempsParPartie," sekond"),r(5),c(b(33,17,a.quiz.prix)),r(4),f(a.bestPartie!==null?36:37),r(5),f(a.isLoading?41:42),r(4),x("isOpen",a.isAlertOpen)("message",a.message)("buttons",a.alertButtons))},dependencies:[A,W,U,F,R,K,J,H,D,L,G,V,$,N,M,E,B,j,ee],styles:[".p-caracteristique[_ngcontent-%COMP%]{font-size:medium}.titre[_ngcontent-%COMP%]{font-size:large;font-weight:700}ion-grid[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.last-ion-row[_ngcontent-%COMP%]{margin-top:auto}ion-img[_ngcontent-%COMP%]{width:100dvw;height:40dvh}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}"]});let o=l;return o})();export{ge as QuizPage};
