import{C as ot,a as tt,h as et,j as nt}from"./chunk-RCIVPRKJ.js";import{a as $}from"./chunk-N23KSFRB.js";import{$ as s,$a as g,Cb as K,D as C,E as _,Ea as k,Gb as X,Hb as Y,Ib as J,J as M,Jb as Q,K as c,Kb as W,L as d,M as p,Ob as Z,P as O,Pa as I,S as l,Ua as S,V as v,Xa as T,Ya as E,Z as i,Za as G,_ as r,a as f,ab as D,ca as P,cb as L,da as u,db as V,eb as R,ib as j,ja as x,ka as m,la as w,lb as F,oa as y,qb as N,rb as A,sb as B,tb as z,ub as H,vb as U,w as b,yb as q}from"./chunk-44MH6WD3.js";import"./chunk-ZTRS6MQZ.js";import"./chunk-7AA6B6AB.js";import"./chunk-WAVX4AJH.js";import"./chunk-G67DLYCP.js";import"./chunk-G3CV3VGG.js";import"./chunk-IEY6ZC2G.js";import"./chunk-MNDBORQJ.js";import"./chunk-7QVI4S4L.js";import"./chunk-4U6PRYVA.js";import"./chunk-6BZ4INXC.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import"./chunk-LNJ3S2LQ.js";var it=(()=>{let n=class n{constructor(){this.val="",this.onTouch=()=>{},this.onChange=o=>{}}writeValue(o){this.val=o}registerOnChange(o){this.onChange=o}registerOnTouched(o){this.onTouch=o}ngOnInit(){}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p({type:n,selectors:[["radio-button-img"]],inputs:{label:"label",name:"name",src:"src",value:"value"},features:[y([{provide:S,useExisting:b(()=>n),multi:!0}])],decls:11,vars:4,consts:[["input",""],[1,"custom-radio"],["type","radio","checked","",3,"input","name","value"],[1,"radio-btn"],[1,"content"],[1,"profile-img"],["alt","Logo Moncash",3,"src"],[1,"check-icon"],[1,"icon"]],template:function(t,e){if(t&1){let h=P();i(0,"label",1)(1,"input",2,0),u("input",function(){C(h);let rt=x(2);return _(e.onChange(rt.value))}),r(),i(3,"div",3)(4,"div",4)(5,"div",5),s(6,"img",6),r(),i(7,"h2"),m(8),r(),i(9,"span",7),s(10,"div",8),r()()()()}t&2&&(c(),l("name",e.name)("value",e.value),c(5),l("src",e.src,M),c(2),w(e.label))},styles:['.custom-radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.radio-btn[_ngcontent-%COMP%]{position:relative;width:150px;height:160px;background-color:#fff;border:2px solid #d4d4d4;border-radius:10px;cursor:pointer}.radio-btn[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;justify-content:center;align-items:center}.radio-btn[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;overflow:hidden}.radio-btn[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.radio-btn[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#757575;margin-bottom:5px;font-size:20px;font-weight:700;text-transform:capitalize}.radio-btn[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{width:30px;height:30px;background-color:#d4d4d4;border-radius:50%;display:flex;align-items:center;justify-content:center;overflow:hidden}.radio-btn[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:inline-block;position:relative;width:18px;height:8px;margin-top:-2px;transform:rotate(-40deg)}.radio-btn[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{content:"";width:3px;height:100%;background-color:#fff;position:absolute;left:0;bottom:0;border-radius:10px;box-shadow:-2px 0 5px #0000003b;transform:scaleY(0);transform-origin:top;transition:all .2s ease-in-out}.radio-btn[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:after{content:"";width:100%;height:3px;background-color:#fff;position:absolute;left:0;bottom:0;border-radius:10px;box-shadow:0 3px 5px #0000003b;transform:scaleX(0);transform-origin:left;transition:all .2s ease-in-out;transition-delay:.1s}.custom-radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .radio-btn[_ngcontent-%COMP%]{border:2px solid var(--primary-color)}.custom-radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .radio-btn[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{background:var(--primary-color)}.custom-radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .radio-btn[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before, .custom-radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .radio-btn[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:after{transform:scale(1)}']});let a=n;return a})();function st(a,n){a&1&&(i(0,"ion-button",7),s(1,"ion-spinner"),r())}function ct(a,n){a&1&&(i(0,"ion-button",8)(1,"ion-text"),m(2,"Chanje"),r()())}var yt=(()=>{let n=class n{constructor(o,t,e){this.compteService=o,this.router=t,this.urlService=e,this.isLoading=!1,this.toastColor="",this.isToastOpen=!1,this.toastMessage="",this.toastIcon="",this.subscription=new f,this.formGroup=new G({montant:new g(""),paiement:new g("moncash")}),ot({checkmarkSharp:et,closeSharp:nt})}ngOnInit(){}onSubmit(){if(this.formGroup.markAllAsTouched(),!this.formGroup.invalid){this.isLoading=!0;let o=this.formGroup.value;this.subscription.add(this.compteService.depot(o).subscribe({next:t=>{this.isLoading=!1,this.formGroup.reset(),this.urlService.redirectTo(t.urlRedirection)},error:t=>{this.isLoading=!1;try{this.showToast(t.error.message.contenu,t.error.message.type,()=>{t.error.codeError==="1"&&(this.formGroup.reset(),this.router.navigate(["/login"]))})}catch{this.showToast("Verifye koneksyon entenet ou an","error")}}}))}}showToast(o,t,e){t==="success"?(this.toastIcon="checkmark-sharp",this.toastColor="success"):(this.toastIcon="close-sharp",this.toastColor="danger"),this.toastMessage=o,this.isToastOpen=!0,setTimeout(()=>{this.closeToast(),e&&e()},3500)}closeToast(){this.isToastOpen=!1}ngOnDestroy(){this.subscription.unsubscribe()}};n.\u0275fac=function(t){return new(t||n)(d(tt),d(I),d($))},n.\u0275cmp=p({type:n,selectors:[["app-depot"]],decls:25,vars:7,consts:[[1,"ion-page"],["slot","start"],["defaultHref","/accueil"],[3,"submit","formGroup"],["label","Kantite Lajan (HTG)","label-placement","floating","placeholder","Antre kantite kob depo a","helperText","Antre chif selman","errorText","Verifye done ou antre yo","formControlName","montant","required","","type","number"],["label","MonCash","value","moncash","src","/assets/img/logoMoncash.png","formControlName","paiement","name","paiement"],[1,"last-ion-row"],["expand","block","type","submit","disabled","true"],["expand","block","type","submit"],["position","top",3,"color","isOpen","message","duration","icon"]],template:function(t,e){t&1&&(i(0,"div",0)(1,"ion-header")(2,"ion-toolbar")(3,"ion-buttons",1),s(4,"ion-back-button",2),r(),i(5,"ion-title"),m(6,"Depoze Lajan"),r()()(),i(7,"ion-content")(8,"form",3),u("submit",function(){return e.onSubmit()}),i(9,"ion-grid")(10,"ion-row")(11,"ion-col"),s(12,"ion-input",4),r()(),i(13,"ion-row")(14,"ion-col")(15,"ion-label"),m(16,"Metod Peman"),r()()(),i(17,"ion-row")(18,"ion-col"),s(19,"radio-button-img",5),r()(),i(20,"ion-row",6)(21,"ion-col"),O(22,st,2,0,"ion-button",7)(23,ct,3,0,"ion-button",8),r()()()(),s(24,"ion-toast",9),r()()),t&2&&(c(8),l("formGroup",e.formGroup),c(14),v(e.isLoading?22:23),c(2),l("color",e.toastColor)("isOpen",e.isToastOpen)("message",e.toastMessage)("duration",3e3)("icon",e.toastIcon))},dependencies:[Z,q,Q,Y,X,N,B,K,H,j,D,T,E,R,L,V,F,A,z,U,J,W,k,it],styles:["form[_ngcontent-%COMP%]{height:100%}ion-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.last-ion-row[_ngcontent-%COMP%]{margin-top:auto}"]});let a=n;return a})();export{yt as DepotPage};
