import{a as mt}from"./chunk-6TKAU2HB.js";import{a as at,b as pt,e as ct,f as lt}from"./chunk-TYPBJ4BO.js";import{A as it,B as rt,C as st,a as T,d as Ke,e as He,f as $e,g as Je,l as Ze,m as Qe,r as Ye,s as Xe,t as et,u as tt,y as nt,z as ot}from"./chunk-EX5FDRWG.js";import{a as qe}from"./chunk-HB54646I.js";import{$ as re,$a as he,$b as ze,Aa as ce,Ab as Ae,B as Q,Bb as Ne,D as h,Db as De,F as Y,Fb as Re,G as l,Gb as Fe,Ha as V,Hb as Ue,J as X,N as ee,O as te,P as ne,Pb as je,Ra as le,S as oe,Sa as B,T as N,Tb as Ve,Ub as Be,V as f,W as I,Wa as me,Wb as We,X as ie,Xa as de,Ya as ue,Yb as Ge,Za as ge,Zb as Le,_ as D,aa as R,ab as fe,ba as M,c as q,cb as Ce,db as be,ea as se,eb as Oe,hb as ve,i as K,ia as p,ib as Pe,j as E,ja as m,jb as we,k as H,ka as _,kb as Me,l as u,mb as _e,n as $,na as ae,nb as ye,o as k,oa as F,p as x,pa as U,pb as Se,qb as Ee,r as A,s as b,t as P,v as g,va as j,vb as Ie,w as J,wb as Te,x as Z,xa as pe,xb as ke,z as w,zb as xe}from"./chunk-IPMCES2K.js";import"./chunk-5TIO4NZJ.js";import"./chunk-KB6NU4VA.js";import"./chunk-KQGH3CXZ.js";import"./chunk-W6UBUTQL.js";import"./chunk-G3CV3VGG.js";import"./chunk-WSXCG4BJ.js";import"./chunk-453ZWRIO.js";import"./chunk-A7ODLDCL.js";import"./chunk-4U6PRYVA.js";import"./chunk-6BZ4INXC.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{a as z,g as v}from"./chunk-6SXTDW4T.js";var G=(()=>{let t=class t{constructor(n,o){this.compteService=n,this.router=o}canActivate(n,o){return this.compteService.isAgent?!0:(this.router.navigate(["/accueil"]),!1)}};t.\u0275fac=function(o){return new(o||t)(l(T),l(fe))},t.\u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var dt=[{path:"",redirectTo:"accueil",pathMatch:"full"},{path:"folder/:id",loadComponent:()=>import("./chunk-TWZNWPUI.js").then(e=>e.FolderPage)},{path:"login",loadComponent:()=>import("./chunk-HKMTUR72.js").then(e=>e.LoginPage)},{path:"inscription",loadComponent:()=>import("./chunk-OZEBGIAD.js").then(e=>e.InscriptionPage)},{path:"inscription/verification-email",loadComponent:()=>import("./chunk-WGCBZERX.js").then(e=>e.VerificationEmailPage)},{path:"inscription/create-password",loadComponent:()=>import("./chunk-7FNYVB76.js").then(e=>e.CreatePasswordPage)},{path:"accueil",loadComponent:()=>import("./chunk-JDP4M4T6.js").then(e=>e.AccueilPage)},{path:"accueil/quiz/:id",loadComponent:()=>import("./chunk-QXP6VKBP.js").then(e=>e.QuizPage)},{path:"partie/:id",loadComponent:()=>import("./chunk-FNPS6KY2.js").then(e=>e.PartiePage)},{path:"profile",loadComponent:()=>import("./chunk-ZWYPXMGO.js").then(e=>e.CompteProfilePage)},{path:"modifier/compte",loadComponent:()=>import("./chunk-XGDZEKPT.js").then(e=>e.UpdateInfosPage)},{path:"modifier/password",loadComponent:()=>import("./chunk-65B45MWN.js").then(e=>e.UpdatePasswordPage)},{path:"transactions/depot",loadComponent:()=>import("./chunk-ZE2VIHQF.js").then(e=>e.DepotPage)},{path:"transactions/retrait",loadComponent:()=>import("./chunk-BWHRGH54.js").then(e=>e.RetraitPage)},{path:"transactions/agent/depot",canActivate:[G],loadComponent:()=>import("./chunk-E7CGACJA.js").then(e=>e.DepotAgentPage)},{path:"transactions/agent/retrait",canActivate:[G],loadComponent:()=>import("./chunk-4UKEEBZH.js").then(e=>e.RetraitAgentPage)},{path:"accueil/quiz-terminer/:id",loadComponent:()=>import("./chunk-QIEJQQTH.js").then(e=>e.QuizTerminerPage)},{path:"forget-password",loadComponent:()=>import("./chunk-4G5IMVFI.js").then(e=>e.ForgetPasswordPage)},{path:"forget-password/change-password",loadComponent:()=>import("./chunk-HFGOPHXP.js").then(e=>e.ChangerPasswordPage)}];var bt=()=>[0,.5,.85];function Ot(e,t){e&1&&(p(0,"ion-button",6),_(1,"ion-spinner"),m())}function vt(e,t){e&1&&(p(0,"ion-button",7)(1,"ion-text"),j(2,"Valide"),m()())}function Pt(e,t){if(e&1){let s=ae();p(0,"ion-content")(1,"form",4),F("submit",function(){ee(s);let o=U();return te(o.onSubmit())}),p(2,"ion-grid")(3,"ion-row")(4,"ion-col"),j(5),m()(),p(6,"ion-row")(7,"ion-col"),_(8,"ion-input",5),m()(),p(9,"ion-col"),D(10,Ot,2,0,"ion-button",6)(11,vt,3,0,"ion-button",7),m()()()()}if(e&2){let s=U();f(),M("formGroup",s.formGroup),f(4),pe(" ",s.messageModal," "),f(5),se(s.isLoading?10:11)}}var ut=(()=>{let t=class t{constructor(n,o,i){this.modalCtrl=n,this.webSocketService=o,this.compteService=i,this.appPages=[{title:"Inbox",url:"/folder/inbox",icon:"mail"},{title:"Outbox",url:"/folder/outbox",icon:"paper-plane"},{title:"Favorites",url:"/folder/favorites",icon:"heart"},{title:"Archived",url:"/folder/archived",icon:"archive"},{title:"Trash",url:"/folder/trash",icon:"trash"},{title:"Spam",url:"/folder/spam",icon:"warning"}],this.labels=["Family","Friends","Notes","Work","Travel","Reminders"],this.message="",this.alertButtons=[{text:"Ok",role:"cancel",handler:()=>{this.setOpen(!1)}}],this.isAlertOpen=!1,this.isToastOpen=!1,this.colorToast="",this.iconToast="",this.isModalOpen=!1,this.isLoading=!1,this.toastMessage="",this.messageModal="",this.uniqueID="",this.callbacks={onGetNotification:a=>{let r=JSON.parse(a.body).descriptionClient;this.message=r,this.setOpen(!0)},onConfirmeRetrait:a=>{let r=JSON.parse(a.body);this.uniqueID=r.uniqueID,this.messageModal=r.message,this.isModalOpen=!0},onGetAgentNotification:a=>{let r=JSON.parse(a.body).descriptionAgent;this.message=r,this.setOpen(!0)}},this.formGroup=new Me({password:new _e("",[ve.required])}),st({mailOutline:Ye,mailSharp:Xe,paperPlaneOutline:et,paperPlaneSharp:tt,heartOutline:Ze,heartSharp:Qe,archiveOutline:Ke,archiveSharp:He,trashOutline:nt,trashSharp:ot,warningOutline:it,warningSharp:rt,bookmarkOutline:$e,bookmarkSharp:Je})}onSubmit(){if(this.formGroup.markAllAsTouched(),!this.formGroup.invalid){this.isLoading=!0;let n={password:this.formGroup.value.password,uniqueID:this.uniqueID};this.compteService.confirmerRetraitByClient(n).subscribe({next:o=>{this.isLoading=!1,this.message=o.descriptionClient,this.formGroup.reset(),this.isModalOpen=!1,this.setOpen(!0)},error:o=>{this.isLoading=!1;try{this.isModalOpen=!1,this.showToast(o.error.messageClient.contenu,o.error.messageClient.type),this.formGroup.reset()}catch{this.showToast("Verifye koneksyon entenet ou an","error")}}})}}ngOnInit(){this.webSocketService.connectForNotification(this.callbacks)}ngAfterViewInit(){}setOpen(n){this.isAlertOpen=n}showToast(n,o,i){o==="success"?(this.iconToast="checkmark-sharp",this.colorToast="success"):(this.iconToast="close-sharp",this.colorToast="danger"),this.toastMessage=n,this.isToastOpen=!0,setTimeout(()=>{this.closeToast(),i&&i()},5500)}closeToast(){this.isToastOpen=!1}};t.\u0275fac=function(o){return new(o||t)(I(Ge),I(mt),I(T))},t.\u0275cmp=ie({type:t,selectors:[["app-root"]],decls:6,vars:12,consts:[["id","main-content"],["header","Notifikasyon",3,"didDismiss","isOpen","message","buttons"],["position","top",3,"color","isOpen","message","duration","icon"],["handleBehavior","cycle",3,"isOpen","initialBreakpoint","breakpoints"],[3,"submit","formGroup"],["type","password","label","Modpass","label-placement","floating","helperText","Antre on modpass ki valid","errorText","Modpass lan paka rete vid","placeholder","Antre modpass ou","formControlName","password"],["expand","block","type","submit","disabled","true"],["expand","block","type","submit"]],template:function(o,i){o&1&&(p(0,"ion-app"),_(1,"ion-router-outlet",0),p(2,"ion-alert",1),F("didDismiss",function(){return i.setOpen(!1)}),m(),_(3,"ion-toast",2),p(4,"ion-modal",3),D(5,Pt,12,3,"ng-template"),m()()),o&2&&(f(2),M("isOpen",i.isAlertOpen)("message",i.message)("buttons",i.alertButtons),f(),M("color",i.colorToast)("isOpen",i.isToastOpen)("message",i.toastMessage)("duration",5e3)("icon",i.iconToast),f(),M("isOpen",i.isModalOpen)("initialBreakpoint",.85)("breakpoints",ce(11,bt)))},dependencies:[Ie,ye,Pe,we,Se,Ee,Be,De,Ve,We,ze,Re,je,Ue,Fe,xe,Ae,le,Ne,ke],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-background-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}"]});let e=t;return e})();var gt=(()=>{let t=class t{constructor(n){this.urlService=n}intercept(n,o){let a=this.urlService.exceptionUrls.some(r=>n.url.includes(r));if(console.log(`hasExceptionUrl: ${a}`),!a){let r=localStorage.getItem("token");r&&(console.log("interceptor"),n=n.clone({setHeaders:{Authorization:`Bearer ${r}`,"ngrok-skip-browser-warning":"1"}}))}return o.handle(n)}};t.\u0275fac=function(o){return new(o||t)(l(qe))},t.\u0275prov=h({token:t,factory:t.\u0275fac});let e=t;return e})();var S="Service workers are disabled or not supported by this browser";function wt(e){return k(()=>H(new Error(e)))}var O=class{serviceWorker;worker;registration;events;constructor(t){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=wt(S);else{let n=x(t,"controllerchange").pipe(u(()=>t.controller)),o=k(()=>E(t.controller)),i=$(o,n);this.worker=i.pipe(P(C=>!!C)),this.registration=this.worker.pipe(w(()=>t.getRegistration()));let c=x(t,"message").pipe(u(C=>C.data)).pipe(P(C=>C&&C.type)).pipe(Z());c.connect(),this.events=c}}postMessage(t,s){return this.worker.pipe(g(1),Q(n=>{n.postMessage(z({action:t},s))})).toPromise().then(()=>{})}postMessageWithOperation(t,s,n){let o=this.waitForOperationCompleted(n),i=this.postMessage(t,s);return Promise.all([i,o]).then(([,a])=>a)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let s;return typeof t=="string"?s=n=>n.type===t:s=n=>t.includes(n.type),this.events.pipe(P(s))}nextEventOfType(t){return this.eventsOfType(t).pipe(g(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(P(s=>s.nonce===t),g(1),u(s=>{if(s.result!==void 0)return s.result;throw new Error(s.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},Mt=(()=>{let t=class t{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new q;constructor(n){if(this.sw=n,!n.isEnabled){this.messages=b,this.notificationClicks=b,this.subscription=b;return}this.messages=this.sw.eventsOfType("PUSH").pipe(u(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(u(i=>i.data)),this.pushManager=this.sw.registration.pipe(u(i=>i.pushManager));let o=this.pushManager.pipe(w(i=>i.getSubscription()));this.subscription=A(o,this.subscriptionChanges)}requestSubscription(n){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(S));let o={userVisibleOnly:!0},i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(i.length));for(let r=0;r<i.length;r++)a[r]=i.charCodeAt(r);return o.applicationServerKey=a,this.pushManager.pipe(w(r=>r.subscribe(o)),g(1)).toPromise().then(r=>(this.subscriptionChanges.next(r),r))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(S));let n=o=>{if(o===null)throw new Error("Not subscribed to push notifications.");return o.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(g(1),w(n)).toPromise()}decodeBase64(n){return atob(n)}};v(t,"\u0275fac",function(o){return new(o||t)(l(O))}),v(t,"\u0275prov",h({token:t,factory:t.\u0275fac}));let e=t;return e})(),_t=(()=>{let t=class t{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,!n.isEnabled){this.versionUpdates=b,this.unrecoverable=b;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(S));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(S));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}};v(t,"\u0275fac",function(o){return new(o||t)(l(O))}),v(t,"\u0275prov",h({token:t,factory:t.\u0275fac}));let e=t;return e})();var ht=new Y("");function yt(e,t,s,n){return()=>{if(!(B(n)&&"serviceWorker"in navigator&&s.enabled!==!1))return;let o=e.get(oe),i=e.get(R);o.runOutsideAngular(()=>{let r=navigator.serviceWorker,d=()=>{var c;return(c=r.controller)==null?void 0:c.postMessage({action:"INITIALIZE"})};r.addEventListener("controllerchange",d),i.onDestroy(()=>{r.removeEventListener("controllerchange",d)})});let a;if(typeof s.registrationStrategy=="function")a=s.registrationStrategy();else{let[r,...d]=(s.registrationStrategy||"registerWhenStable:30000").split(":");switch(r){case"registerImmediately":a=E(null);break;case"registerWithDelay":a=ft(+d[0]||0);break;case"registerWhenStable":let c=K(e.get(R).whenStable());a=d[0]?A(c,ft(+d[0])):c;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${s.registrationStrategy}`)}}o.runOutsideAngular(()=>a.pipe(g(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:s.scope}).catch(r=>console.error("Service worker registration failed with:",r))))}}function ft(e){return E(null).pipe(J(e))}function St(e,t){return new O(B(t)&&e.enabled!==!1?navigator.serviceWorker:void 0)}var y=class{enabled;scope;registrationStrategy};function L(e,t={}){return X([Mt,_t,{provide:ht,useValue:e},{provide:y,useValue:t},{provide:O,useFactory:St,deps:[y,N]},{provide:re,useFactory:yt,deps:[ne,ht,y,N],multi:!0}])}var Et={apiKey:"AIzaSyBoztdmalkcw71gJ423QzBBUbiWkU5yb2U",authDomain:"raf-02.firebaseapp.com",projectId:"raf-02",storageBucket:"raf-02.firebasestorage.app",messagingSenderId:"283913247989",appId:"1:283913247989:web:e9dbcc6cde93085aa0f9bc"};ge(ut,{providers:[{provide:he,useClass:Te},Le(),be(dt,Oe(Ce)),de(ue()),{provide:me,useClass:gt,multi:!0},at(()=>pt(Et)),ct(()=>lt()),L("ngsw-worker.js",{enabled:!V(),registrationStrategy:"registerWhenStable:30000"}),L("ngsw-worker.js",{enabled:!V(),registrationStrategy:"registerWhenStable:30000"})]});
